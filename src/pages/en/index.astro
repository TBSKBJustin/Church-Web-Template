---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

// 获取最新贴文
const allPosts = await getCollection('posts');
const latestPosts = allPosts
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 3);
---

<Layout title="Home - Church Name" lang="en">
  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1>Welcome to Our Church</h1>
        <p class="tagline">Add your church's short description here</p>
        <div class="cta-buttons">
          <a href="/en/about" class="btn btn-primary">About Us</a>
          <a href="/en/gathering" class="btn btn-secondary">Gatherings</a>
        </div>
      </div>
    </section>

    <!-- Participate Section -->
    <section class="welcome-section">
      <div class="container">
        <h2>Join Our Gatherings</h2>
        <div class="welcome-content">
          <p>
            Welcome to our church. We are a place where we proclaim Jesus Christ and study the Word of God. We believe in the transformative power of Jesus Christ, who was crucified and rose again for us. Through Him, we can experience God's great love. As the Scripture says, this love "surpasses all understanding," and through trusting in Jesus Christ, we can experience it firsthand.
          </p>
          <div class="welcome-cta">
            <a href="/en/gathering" class="btn btn-primary">View Gathering Times</a>
            <a href="/en/contact" class="btn btn-outline">Contact Us</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Latest Posts Section -->
    <section class="latest-posts">
      <div class="container">
        <h2>Latest News</h2>
        <div class="posts-grid">
          {latestPosts.map((post) => (
            <article class="post-card">
              {post.data.thumbnail && (
                <img src={post.data.thumbnail} alt={post.data.title} />
              )}
              <div class="post-content">
                <h3><a href={`/en/posts/${post.slug}`}>{post.data.title}</a></h3>
                <time datetime={post.data.publishDate.toISOString()}>
                  {post.data.publishDate.toLocaleDateString('en-US')}
                </time>
                <p>{post.data.excerpt || ''}</p>
              </div>
            </article>
          ))}
        </div>
        <div class="view-all">
          <a href="/en/posts" class="btn btn-outline">View All Posts</a>
        </div>
      </div>
    </section>

    <!-- Our Team Section -->
    <section class="team-section">
      <div class="container">
        <h2>Our Team</h2>
        <p class="section-subtitle">Ministry Team</p>
        <div class="team-grid">
          <div class="team-member">
            <div class="member-photo">
              <img src="/images/team/placeholder.jpg" alt="Senior Pastor" />
            </div>
            <h3>Pastor Name</h3>
            <p class="role">Senior Pastor</p>
            <p class="bio">Add a brief introduction about the senior pastor here.</p>
          </div>
          <div class="team-member">
            <div class="member-photo">
              <img src="/images/team/placeholder.jpg" alt="Staff Member" />
            </div>
            <h3>Staff Member Name</h3>
            <p class="role">Ministry Position</p>
            <p class="bio">Add a brief introduction about this staff member here.</p>
          </div>
          <div class="team-member">
            <div class="member-photo">
              <img src="/images/team/placeholder.jpg" alt="Elder" />
            </div>
            <h3>Elder Name</h3>
            <p class="role">Elder</p>
            <p class="bio">Add a brief introduction about the elder here.</p>
          </div>
        </div>
        <div class="view-all">
          <a href="/en/team" class="btn btn-outline">Learn More About Our Team</a>
        </div>
      </div>
    </section>

    <!-- Info Section -->
    <section class="info-section">
      <div class="container">
        <div class="info-grid">
          <div class="info-card">
            <h3>Sunday Worship</h3>
            <p>Every Sunday 9:30 AM - 10:45 AM</p>
            <a href="/en/gathering">Learn More</a>
          </div>
          <div class="info-card">
            <h3>Prayer Meeting</h3>
            <p>Every Sunday 9:00 AM - 9:20 AM</p>
            <a href="/en/gathering">Learn More</a>
          </div>
          <div class="info-card">
            <h3>Contact Us</h3>
            <p>We welcome you to reach out anytime</p>
            <a href="/en/contact">Contact Information</a>
          </div>
        </div>
      </div>
    </section>

    <!-- YouTube Actions Section -->
    <section class="youtube-actions">
      <div class="container">
        <h2>Watch Our Services</h2>
        <p class="section-description">Explore our services and sermon content on YouTube</p>
        <div class="action-buttons">
          <a href="#" target="_blank" class="btn-youtube btn-recordings">
            Watch Recordings
          </a>
          <a href="#" target="_blank" class="btn-youtube btn-live">
            Watch Live Stream
          </a>
        </div>
        <p class="youtube-note">Please update these links to your church's YouTube channel</p>
      </div>
    </section>
  </main>
</Layout>

<style>
  .hero {
    background: url('/images/hero-bg.jpg') center/cover;
    color: white;
    padding: 10rem 2rem;
    text-align: center;
    position: relative;
  }

  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
  }

  .hero .container {
    position: relative;
    z-index: 1;
  }

  .hero h1 {
    font-size: 3.5rem;
    margin-bottom: 1rem;
    text-shadow: 3px 3px 12px rgba(0, 0, 0, 0.5);
  }

  .tagline {
    font-size: 1.5rem;
    margin-bottom: 2rem;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .btn {
    padding: 1rem 2rem;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s;
    display: inline-block;
  }

  .btn-primary {
    background: var(--color-accent);
    color: white;
  }

  .btn-primary:hover {
    background: var(--color-accent-hover);
    transform: translateY(-2px);
  }

  .btn-secondary {
    background: white;
    color: var(--color-accent);
    border: 2px solid white;
  }

  .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
  }

  .btn-outline {
    border: 2px solid var(--color-accent);
    color: var(--color-accent);
    background: transparent;
  }

  .btn-outline:hover {
    background: var(--color-accent);
    color: white;
  }

  .welcome-section {
    padding: 4rem 2rem;
    background: var(--color-bg-main);
  }

  .welcome-section h2 {
    color: var(--color-text-main);
    margin-bottom: 2rem;
    font-size: 2.5rem;
    text-align: center;
  }

  .welcome-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .welcome-content p {
    color: var(--color-text-main);
    line-height: 1.8;
    font-size: 1.1rem;
    margin-bottom: 2rem;
  }

  .welcome-cta {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .latest-posts {
    padding: 4rem 2rem;
    background: var(--color-bg-soft);
  }

  .latest-posts h2 {
    color: var(--color-text-main);
    text-align: center;
    margin-bottom: 3rem;
    font-size: 2.5rem;
  }

  .posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .post-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s, transform 0.3s;
  }

  .post-card:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    transform: translateY(-4px);
  }

  .post-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .post-content {
    padding: 1.5rem;
  }

  .post-content h3 {
    margin-bottom: 0.5rem;
  }

  .post-content h3 a {
    color: var(--color-text-main);
    text-decoration: none;
  }

  .post-content h3 a:hover {
    color: var(--color-accent);
  }

  .post-content time {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    display: block;
    margin-bottom: 1rem;
  }

  .post-content p {
    color: var(--color-text-muted);
    line-height: 1.6;
  }

  .view-all {
    text-align: center;
  }

  .team-section {
    padding: 4rem 2rem;
    background: var(--color-bg-main);
  }

  .team-section h2 {
    color: var(--color-text-main);
    text-align: center;
    margin-bottom: 1rem;
    font-size: 2.5rem;
  }

  .section-subtitle {
    color: var(--color-accent);
    text-align: center;
    margin-bottom: 3rem;
    font-size: 1.2rem;
  }

  .team-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
  }

  .team-member {
    text-align: center;
    background: white;
    padding: 2rem;
    border-radius: 12px;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .team-member:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .member-photo {
    width: 180px;
    height: 180px;
    margin: 0 auto 1.5rem;
    border-radius: 50%;
    overflow: hidden;
    border: 4px solid var(--color-accent);
  }

  .member-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .team-member h3 {
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
    color: var(--color-text-main);
  }

  .team-member .role {
    color: var(--color-accent);
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .team-member .bio {
    color: var(--color-text-muted);
    line-height: 1.6;
    font-size: 0.95rem;
  }

  /* Info Section */
  .info-section {
    padding: 4rem 2rem;
    background: linear-gradient(135deg, var(--color-bg-main) 0%, var(--color-bg-soft) 100%);
  }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
  }

  .info-card {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s;
  }

  .info-card:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .info-card h3 {
    color: var(--color-text-main);
    margin-bottom: 1rem;
    font-size: 1.3rem;
  }

  .info-card p {
    color: var(--color-text-muted);
    margin-bottom: 1.5rem;
    line-height: 1.6;
  }

  .info-card a {
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s;
  }

  .info-card a:hover {
    color: var(--color-accent-hover);
  }

  /* YouTube Actions Section */
  .youtube-actions {
    padding: 4rem 0;
    background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-hover) 100%);
    text-align: center;
  }

  .youtube-actions h2 {
    color: white;
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .section-description {
    color: rgba(255, 255, 255, 0.95);
    font-size: 1.2rem;
    margin-bottom: 2.5rem;
  }

  .action-buttons {
    display: flex;
    gap: 2rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .btn-youtube {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem 2.5rem;
    border-radius: 50px;
    font-size: 1.2rem;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    min-width: 200px;
    justify-content: center;
  }

  .btn-recordings {
    background: white;
    color: var(--color-accent);
    border: 2px solid white;
  }

  .btn-recordings:hover {
    background: rgba(255, 255, 255, 0.9);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  }

  .btn-live {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 2px solid white;
  }

  .btn-live:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  }

  @media (max-width: 768px) {
    .hero h1 {
      font-size: 2rem;
    }

    .tagline {
      font-size: 1rem;
    }

    .welcome-section h2 {
      font-size: 1.75rem;
    }

    .latest-posts h2 {
      font-size: 1.75rem;
    }

    .team-section h2 {
      font-size: 1.75rem;
    }

    .youtube-actions h2 {
      font-size: 1.75rem;
    }

    .section-description {
      font-size: 1rem;
      margin-bottom: 2rem;
    }

    .action-buttons {
      flex-direction: column;
      align-items: center;
    }

    .btn-youtube {
      width: 100%;
      max-width: 300px;
      padding: 1rem 2rem;
      font-size: 1rem;
    }
  }
</style>
